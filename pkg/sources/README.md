# Sources Package

> Abstractions for fetching AI model catalog data from external systems

## Overview

The sources package defines the interface for data sources that provide AI model catalog information. Sources can fetch data from provider APIs, community repositories like models.dev, or local catalog files.

## Source Interface

```go
type Source interface {
    // Name returns the name of this source
    Name() SourceName
    
    // Setup initializes the source with dependencies
    Setup(providers *catalogs.Providers) error
    
    // Fetch retrieves data from this source
    Fetch(ctx context.Context, opts ...SourceOption) (catalogs.Catalog, error)
    
    // Cleanup releases any resources
    Cleanup() error
}
```

## Common Source Names

- `ProviderAPI` - Real-time data from provider APIs
- `ModelsDevGit` - models.dev repository via Git
- `ModelsDevHTTP` - models.dev repository via HTTP
- `LocalCatalog` - Local catalog files

## Usage

Sources are used by the reconciliation system to gather data from multiple locations:

```go
sources := []sources.Source{
    local.New(),                 // Embedded baseline
    providers.New(),              // Provider APIs  
    modelsdev.NewGitSource(),    // Community data
}

// Sources handle their own concurrency internally
for _, src := range sources {
    catalog, err := src.Fetch(ctx)
    // Process catalog...
}
```

<!-- gomarkdoc:embed:start -->

<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# sources

```go
import "github.com/agentstation/starmap/pkg/sources"
```

Package sources provides abstractions for fetching AI model catalog data from various external sources including provider APIs and community repositories.

## Index

- [type Source](<#Source>)
- [type SourceName](<#SourceName>)
  - [func \(sn SourceName\) String\(\) string](<#SourceName.String>)
- [type SourceOption](<#SourceOption>)
  - [func WithFresh\(fresh bool\) SourceOption](<#WithFresh>)
  - [func WithProviderFilter\(providerID catalogs.ProviderID\) SourceOption](<#WithProviderFilter>)
  - [func WithSafeMode\(safeMode bool\) SourceOption](<#WithSafeMode>)
  - [func WithSourceContext\(key string, value any\) SourceOption](<#WithSourceContext>)


<a name="Source"></a>
## type [Source](<https://github.com/agentstation/starmap/blob/master/pkg/sources/source.go#L26-L39>)

Source represents a data source for catalog information

```go
type Source interface {
    // Name returns the name of this source
    Name() SourceName

    // Setup initializes the source with dependencies (called once before Fetch)
    Setup(providers *catalogs.Providers) error

    // Fetch retrieves data from this source
    // Sources handle their own concurrency internally
    Fetch(ctx context.Context, opts ...SourceOption) (catalogs.Catalog, error)

    // Cleanup releases any resources (called after all Fetch operations)
    Cleanup() error
}
```

<a name="SourceName"></a>
## type [SourceName](<https://github.com/agentstation/starmap/blob/master/pkg/sources/source.go#L10>)

SourceName represents the name/type of a data source

```go
type SourceName string
```

<a name="ProviderAPI"></a>Common source names

```go
const (
    ProviderAPI   SourceName = "Provider APIs"
    ModelsDevGit  SourceName = "models.dev (git)"
    ModelsDevHTTP SourceName = "models.dev (http)"
    LocalCatalog  SourceName = "Local Catalog"
)
```

<a name="SourceName.String"></a>
### func \(SourceName\) [String](<https://github.com/agentstation/starmap/blob/master/pkg/sources/source.go#L13>)

```go
func (sn SourceName) String() string
```

String returns the string representation of a source name

<a name="SourceOption"></a>
## type [SourceOption](<https://github.com/agentstation/starmap/blob/master/pkg/sources/options.go#L29>)

SourceOption is a function that configures sourceOptions

```go
type SourceOption func(*sourceOptions)
```

<a name="WithFresh"></a>
### func [WithFresh](<https://github.com/agentstation/starmap/blob/master/pkg/sources/options.go#L39>)

```go
func WithFresh(fresh bool) SourceOption
```

WithFresh configures fresh sync mode for sources

<a name="WithProviderFilter"></a>
### func [WithProviderFilter](<https://github.com/agentstation/starmap/blob/master/pkg/sources/options.go#L32>)

```go
func WithProviderFilter(providerID catalogs.ProviderID) SourceOption
```

WithProviderFilter configures filtering for a specific provider

<a name="WithSafeMode"></a>
### func [WithSafeMode](<https://github.com/agentstation/starmap/blob/master/pkg/sources/options.go#L46>)

```go
func WithSafeMode(safeMode bool) SourceOption
```

WithSafeMode configures safe mode for sources

<a name="WithSourceContext"></a>
### func [WithSourceContext](<https://github.com/agentstation/starmap/blob/master/pkg/sources/options.go#L53>)

```go
func WithSourceContext(key string, value any) SourceOption
```

WithSourceContext adds source\-specific context data

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)


<!-- gomarkdoc:embed:end -->