# local

Internal package local provides local file-based catalog source implementation.

<!-- gomarkdoc:embed:start -->

<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# local

```go
import "github.com/agentstation/starmap/internal/sources/local"
```

## Index

- [type Option](<#Option>)
  - [func WithCatalog\(catalog catalogs.Catalog\) Option](<#WithCatalog>)
  - [func WithCatalogPath\(path string\) Option](<#WithCatalogPath>)
- [type Source](<#Source>)
  - [func New\(opts ...Option\) \*Source](<#New>)
  - [func \(s \*Source\) Catalog\(\) catalogs.Catalog](<#Source.Catalog>)
  - [func \(s \*Source\) Cleanup\(\) error](<#Source.Cleanup>)
  - [func \(s \*Source\) Dependencies\(\) \[\]sources.Dependency](<#Source.Dependencies>)
  - [func \(s \*Source\) Fetch\(\_ context.Context, \_ ...sources.Option\) error](<#Source.Fetch>)
  - [func \(s \*Source\) ID\(\) sources.ID](<#Source.ID>)
  - [func \(s \*Source\) IsOptional\(\) bool](<#Source.IsOptional>)
  - [func \(s \*Source\) Name\(\) string](<#Source.Name>)


<a name="Option"></a>
## type [Option](<https://github.com/agentstation/starmap/blob/master/internal/sources/local/local.go#L28>)

Option configures a local source.

```go
type Option func(*Source)
```

<a name="WithCatalog"></a>
### func [WithCatalog](<https://github.com/agentstation/starmap/blob/master/internal/sources/local/local.go#L39>)

```go
func WithCatalog(catalog catalogs.Catalog) Option
```

WithCatalog sets a pre\-loaded catalog to reuse. This allows reusing an already\-merged catalog instead of loading again.

<a name="WithCatalogPath"></a>
### func [WithCatalogPath](<https://github.com/agentstation/starmap/blob/master/internal/sources/local/local.go#L31>)

```go
func WithCatalogPath(path string) Option
```

WithCatalogPath sets the catalog path.

<a name="Source"></a>
## type [Source](<https://github.com/agentstation/starmap/blob/master/internal/sources/local/local.go#L12-L16>)

Source loads a catalog from either a file path or embedded catalog.

```go
type Source struct {
    // contains filtered or unexported fields
}
```

<a name="New"></a>
### func [New](<https://github.com/agentstation/starmap/blob/master/internal/sources/local/local.go#L19>)

```go
func New(opts ...Option) *Source
```

New creates a new local source.

<a name="Source.Catalog"></a>
### func \(\*Source\) [Catalog](<https://github.com/agentstation/starmap/blob/master/internal/sources/local/local.go#L78>)

```go
func (s *Source) Catalog() catalogs.Catalog
```

Catalog returns the catalog of this source.

<a name="Source.Cleanup"></a>
### func \(\*Source\) [Cleanup](<https://github.com/agentstation/starmap/blob/master/internal/sources/local/local.go#L83>)

```go
func (s *Source) Cleanup() error
```

Cleanup releases any resources.

<a name="Source.Dependencies"></a>
### func \(\*Source\) [Dependencies](<https://github.com/agentstation/starmap/blob/master/internal/sources/local/local.go#L90>)

```go
func (s *Source) Dependencies() []sources.Dependency
```

Dependencies returns the list of external dependencies. Local source has no external dependencies.

<a name="Source.Fetch"></a>
### func \(\*Source\) [Fetch](<https://github.com/agentstation/starmap/blob/master/internal/sources/local/local.go#L57>)

```go
func (s *Source) Fetch(_ context.Context, _ ...sources.Option) error
```

Fetch returns catalog data from configured source.

<a name="Source.ID"></a>
### func \(\*Source\) [ID](<https://github.com/agentstation/starmap/blob/master/internal/sources/local/local.go#L47>)

```go
func (s *Source) ID() sources.ID
```

ID returns the ID of this source.

<a name="Source.IsOptional"></a>
### func \(\*Source\) [IsOptional](<https://github.com/agentstation/starmap/blob/master/internal/sources/local/local.go#L96>)

```go
func (s *Source) IsOptional() bool
```

IsOptional returns whether this source is optional. Local source is optional \- we can fall back to embedded catalog.

<a name="Source.Name"></a>
### func \(\*Source\) [Name](<https://github.com/agentstation/starmap/blob/master/internal/sources/local/local.go#L54>)

```go
func (s *Source) Name() string
```

Name returns the human\-friendly name of this source.

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)


<!-- gomarkdoc:embed:end -->
